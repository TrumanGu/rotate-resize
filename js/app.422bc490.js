(function(t){function e(e){for(var n,o,a=e[0],u=e[1],c=e[2],h=0,f=[];h<a.length;h++)o=a[h],s[o]&&f.push(s[o][0]),s[o]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(t[n]=u[n]);l&&l(e);while(f.length)f.shift()();return i.push.apply(i,c||[]),r()}function r(){for(var t,e=0;e<i.length;e++){for(var r=i[e],n=!0,a=1;a<r.length;a++){var u=r[a];0!==s[u]&&(n=!1)}n&&(i.splice(e--,1),t=o(o.s=r[0]))}return t}var n={},s={app:0},i=[];function o(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=t,o.c=n,o.d=function(t,e,r){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(r,n,function(e){return t[e]}.bind(null,n));return r},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/rotate-resize/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],u=a.push.bind(a);a.push=e,a=a.slice();for(var c=0;c<a.length;c++)e(a[c]);var l=u;i.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("c81c")},"03cb":function(t,e,r){"use strict";var n=r("7ef7"),s=r.n(n);s.a},"07a2":function(t,e,r){},"14b9":function(t,e,r){"use strict";var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"wrapper"},[r("Controller",{attrs:{rect:t.rect},on:{transformed:t.onTransformed}}),r("Info",{attrs:{rect:t.rect},on:{transformed:t.onTransformed}}),r("GitHub")],1)},s=[],i=(r("6b0c"),r("527c"),r("3a67"),r("6a04"),r("2daf"),r("bdf5"),r("a729"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"info"},[r("ul",t._l(t.displayKeys,function(e){return r("li",{key:e},[r("label",[t._v(t._s(e.toUpperCase()))]),r("div",{class:e},[r("input",{attrs:{type:"number"},domProps:{value:t.betterDisplay(t.rect[e])},on:{change:function(r){t.onValueChange(e,r)},input:function(r){t.onValueChange(e,r)}}})])])}))])}),o=[],a=r("a96d"),u=(r("e3d3"),r("95a0"),r("0091"),{props:{rect:Object},computed:{displayKeys:function(){return Object.keys(this.rect)}},methods:{betterDisplay:function(t){var e=String(t);return e.includes(".")?t.toFixed(2):Number.parseInt(t,10)},onValueChange:function(t,e){var r=Number(e.target.value);r="r"===t?r>180?180:r<-180?-180:r:r<0?0:r,this.$emit("transformed",Object(a["a"])({},t,r))}}}),c=u,l=(r("4379"),r("dbe8")),h=Object(l["a"])(c,i,o,!1,null,"d55dc270",null);h.options.__file="Info.vue";var f=h.exports,y=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},b=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"explain absolute"},[r("ol",[r("li",[r("a",{attrs:{href:"https://github.com/ioslh/rotate-resize",target:"_blank"}},[t._v("GitHub")])]),r("li",[t._v("Drag To Anywhere")]),r("li",[t._v("Try Drag With Shift Key")]),r("li",[t._v("Try Drag With Command Key")])])])}],d={name:"Why"},v=d,p=(r("03cb"),Object(l["a"])(v,y,b,!1,null,"707a28e6",null));p.options.__file="GitHub.vue";var x=p.exports,m=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"controller"},[r("div",{staticClass:"absolute internal",style:t.internalStyle,on:{mousedown:function(e){e.stopPropagation(),t.onMouseDown(e,"move")}}},[t.showHandlers?t._l(t.handlers,function(e){return r("i",{key:e,staticClass:"handler absolute",class:"rotate"===e?e:e.split(""),on:{mousedown:function(r){r.stopPropagation(),t.onMouseDown(r,e)}}})}):t._e()],2),r("div",{staticClass:"absolute external"}),t.showResizeGuide?r("div",{staticClass:"absolute resize-guide",style:t.resizeGuideStyle}):t._e(),t.showRotateGuide?r("div",{staticClass:"absolute rotate-guide",style:t.rotateGuideStyle}):t._e()])},_=[],g=(r("fb22"),r("bb90")),w=function(t){return JSON.parse(JSON.stringify(t))},j=r("3239"),M=r("755c"),C=r("82c5"),k=function(){function t(e){Object(M["a"])(this,t),this.rect=e,this._lt=null,this._rt=null,this._rb=null,this._lb=null,this._ct=null,this._cb=null,this._rm=null,this._lm=null,this._center=null}return Object(C["a"])(t,[{key:"center",get:function(){return this._center||(this._center=I(this.rect)),this._center}},{key:"lt",get:function(){if(!this._lt){var t=this.rect,e=t.x,r=t.y,n=t.r;this._lt=L({x:e,y:r},this.center,n)}return this._lt}},{key:"rt",get:function(){if(!this._rt){var t=this.rect,e=t.x,r=t.y,n=t.w,s=t.r;this._rt=L({x:e+n,y:r},this.center,s)}return this._rt}},{key:"rb",get:function(){return this._rb||(this._rb=O(this.lt,this.center)),this._rb}},{key:"lb",get:function(){return this._lb||(this._lb=O(this.rt,this.center)),this._lb}},{key:"ct",get:function(){return this._ct||(this._ct=K(this.lt,this.rt)),this._ct}},{key:"cb",get:function(){return this._cb||(this._cb=K(this.rb,this.lb)),this._cb}},{key:"rm",get:function(){return this._rm||(this._rm=K(this.rt,this.rb)),this._rm}},{key:"lm",get:function(){return this._lm||(this._lm=K(this.lt,this.lb)),this._lm}}]),t}(),O=function(t,e){var r=["x","y"].map(function(r){return t[r]+2*(e[r]-t[r])}),n=Object(g["a"])(r,2),s=n[0],i=n[1];return{x:s,y:i}},S=1e-5,T=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:S;return Math.abs(t-e)<r},E=function(t,e,r){var n=K(t,e),s=L(e,n,-r),i=s.x,o=s.y,a=Math.abs(2*(i-n.x)),u=Math.abs(2*(o-n.y));return{x:n.x-a/2,y:n.y-u/2,w:a,h:u,r:r}},z=function(t,e,r){var n,s,i,o=t.map(function(t){return R(t,-r)}),a=Object(g["a"])(o,2),u=a[0],c=a[1],l=R(e,-r);T(u.y,c.y)?(n=Math.abs(u.x-c.x),s=Math.abs(l.y-u.y),i={x:(u.x+c.x)/2,y:(u.y+l.y)/2}):T(u.x,c.x)&&(s=Math.abs(u.y-c.y),n=Math.abs(l.x-u.x),i={x:(u.x+l.x)/2,y:(u.y+c.y)/2});var h=R(i,r),f=h.x-n/2,y=h.y-s/2;return{x:f,y:y,w:n,h:s,r:r}},D=function(t,e,r,n){var s,i,o=Object(g["a"])(t,2),a=o[0],u=o[1],c=K(a,u),l=e,h=K(c,l),f=G(c,l),y=r.w/r.h;return"width"===n?(s=f,i=s/y):(i=f,s=y*i),{x:h.x-s/2,y:h.y-i/2,w:s,h:i,r:r.r}},P=function(t,e){if(T(t.x,e.x))return 0;var r=H(t,e),n=Math.atan(r)/Math.PI*180;return 90+n},G=function(t,e){var r=t.x-e.x,n=t.y-e.y;return Math.sqrt(r*r+n*n)},R=function(t,e){var r=e/180*Math.PI,n=Math.sin(r),s=Math.cos(r),i=t.x,o=t.y;return{x:i*s-o*n,y:i*n+o*s}},L=function(t,e,r){var n={x:t.x-e.x,y:t.y-e.y},s=R(n,r);return{x:s.x+e.x,y:s.y+e.y}},I=function(t){var e=t.x,r=t.y,n=t.w,s=t.h;return{x:e+n/2,y:r+s/2}},$=function(t){var e=t.x,r=t.y;return 180*Math.atan2(r,e)/Math.PI},H=function(t,e){return(e.y-t.y)/(e.x-t.x)},K=function(t,e){return{x:(t.x+e.x)/2,y:(t.y+e.y)/2}},A=function(t,e,r){var n={x:e.x-t.x,y:e.y-t.y},s={x:r.x-t.x,y:r.y-t.y},i=$(n),o=$(s);return o-i},J=function(t,e){var r=e.x,n=e.y,s=Object(g["a"])(t,2),i=s[0],o=s[1];if(T(i.x,o.x))return{x:i.x,y:n};if(T(i.y,o.y))return{x:r,y:i.y};var a=H(i,o),u=-1/a,c=(a*i.x+n-i.y-u*r)/(a-u),l=i.y-a*(i.x-c);return{x:c,y:l}},N=function(t){var e=I(t),r=t.x,n=t.y,s=t.w,i=t.h,o=t.r,a=[{x:r,y:n},{x:r+s,y:n},{x:r+s,y:n+i},{x:r,y:n+i}].map(function(t){return L(t,e,o)}),u=Object(g["a"])(a,4),c=u[0],l=u[1],h=u[2],f=u[3];return{center:e,lt:c,rt:l,rb:h,lb:f,ct:K(c,l),rm:K(l,h),cb:K(h,f),lm:K(f,c)}},U=function(t,e,r){var n=e.x-t.x,s=e.y-t.y;return Object(j["a"])({},r,{x:r.x+n,y:r.y+s})},V=function(t,e,r){var n=I(r),s=A(n,t,e),i=r.r+s;return i>=180&&(i-=360),i<=-180&&(i+=360),Object(j["a"])({},r,{r:i})},W=function(t,e,r,n,s){var i=new k(n),o=null,a=[],u=e;if(s){switch(r){case"lt":case"rb":a=[i.lt,i.rb];break;case"rt":case"lb":a=[i.rt,i.lb];break;case"ct":case"cb":a=[i.ct,i.cb],o="height";break;case"lm":case"rm":a=[i.lm,i.rm],o="width";break;default:a=[]}2===a.length&&(u=J(a,e))}var c=[];switch(r){case"lt":c=[i.rb];break;case"rt":c=[i.lb];break;case"lb":c=[i.rt];break;case"rb":c=[i.lt];break;case"cb":c=[i.lt,i.rt];break;case"ct":c=[i.lb,i.rb];break;case"lm":c=[i.rt,i.rb];break;case"rm":c=[i.lt,i.lb];break;default:c=[]}var l,h=c,f=h.length;return 1===f?l=E(c[0],u,n.r):2===f&&(l=s?D(c,u,n,o):z(c,u,n.r)),l},q=function(t,e,r,n,s){return"move"===t?U(e,r,n):"rotate"===t?V(e,r,n):W(e,r,t,n,s)},F=["rotate","lt","ct","rt","lm","rm","lb","cb","rb"],X={props:{rect:Object},data:function(){return{handlers:F,adjustType:null,isAdjusting:!1,fixedRatio:!1,bodyCursor:"auto"}},watch:{bodyCursor:function(){document.body.style.cursor=this.bodyCursor}},computed:{bounds:function(){return N(this.rect)},showRotateGuide:function(){return"rotate"===this.adjustType},rotateGuideStyle:function(){if(!this.showRotateGuide)return{};var t=this.bounds,e=t.center,r=t.lt,n=t.rb,s=e.x,i=e.y,o=G(r,n);return{left:"".concat(s-o/2,"px"),top:"".concat(i-o/2,"px"),width:"".concat(o,"px"),height:"".concat(o,"px")}},showResizeGuide:function(){return this.fixedRatio&&this.adjustType&&"rotate"!==this.adjustType},resizeGuideStyle:function(){if(!this.showResizeGuide)return{};var t,e,r=this.adjustType,n=this.bounds;if("lt"===r||"rb"===r){var s=[n.lt,n.rb];t=s[0],e=s[1]}else if("rt"===r||"lb"===r){var i=[n.rt,n.lb];t=i[0],e=i[1]}else if("cb"===r||"ct"===r){var o=[n.cb,n.ct];t=o[0],e=o[1]}else{var a=[n.lm,n.rm];t=a[0],e=a[1]}var u=2e3,c=K(t,e),l=P(t,e);return{left:"".concat(c.x,"px"),top:"".concat(c.y-u/2,"px"),height:"".concat(u,"px"),transform:"rotate(".concat(l,"deg)")}},internalStyle:function(){var t=this.rect,e=t.x,r=t.y,n=t.w,s=t.h,i=t.r;return{left:"".concat(e,"px"),top:"".concat(r,"px"),width:"".concat(n,"px"),height:"".concat(s,"px"),transform:"rotate(".concat(i,"deg)")}},showHandlers:function(){return!this.isAdjusting||"move"!==this.adjustType}},methods:{computeMousePosition:function(t){var e=t.pageX,r=t.pageY;return{x:e,y:r}},onMouseDown:function(t,e){this.adjustType=t.metaKey?"rotate":e,this.mouseStart=this.computeMousePosition(t),this.rectStart=w(this.rect),this.fixedRatio=t.shiftKey,document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("mouseup",this.onMouseUp)},onMouseMove:function(t){var e=this;this.mouseEnd=this.computeMousePosition(t);var r=["x","y"].map(function(t){return Math.abs(e.mouseEnd[t]-e.mouseStart[t])}),n=Object(g["a"])(r,2),s=n[0],i=n[1];if(s>2||i>2){this.isAdjusting=!0,this.setDocumentCursor(this.mouseEnd);var o=q(this.adjustType,this.mouseStart,this.mouseEnd,this.rectStart,this.fixedRatio);this.$emit("transformed",o)}},onMouseUp:function(){this.adjustType=null,this.bodyCursor="auto",document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("mouseup",this.onMouseUp)},setDocumentCursor:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("move"===this.adjustType)return this.bodyCursor="move";if("rotate"===this.adjustType)return this.bodyCursor="-webkit-grab";var r=this.bounds.center,n={x:(t.x||0)-r.x,y:(t.y||0)-r.y},s=$(n),i=e?10:0;switch(!0){case s<=-180+i:return this.bodyCursor="ew-resize";case s<-90-i:return this.bodyCursor="nwse-resize";case s<=-90+i:return this.bodyCursor="ns-resize";case s<0-i:return this.bodyCursor="nesw-resize";case s<=0+i:return this.bodyCursor="ew-resize";case s<90-i:return this.bodyCursor="nwse-resize";case s<=90+i:return this.bodyCursor="ns-resize";case s<180-i:return this.bodyCursor="nesw-resize";case s<=180+i:return this.bodyCursor="ew-resize"}},preventDrag:function(t){t.stopPropagation(),t.preventDefault()}},mounted:function(){document.addEventListener("drag",this.preventDrag),document.addEventListener("dragstart",this.preventDrag)},beforeDestroy:function(){document.removeEventListener("drag",this.preventDrag),document.removeEventListener("dragstart",this.preventDrag)}},Y=X,B=(r("7258"),Object(l["a"])(Y,m,_,!1,null,"2a5fa09c",null));B.options.__file="Controller.vue";var Q=B.exports,Z={components:{Info:f,GitHub:x,Controller:Q},data:function(){return{rect:{x:100,y:100,w:100,h:100,r:0}}},methods:{onTransformed:function(t){var e=this,r=["x","y","w","h","r"];Object.keys(t).forEach(function(n){r.includes(n)&&(e.rect[n]=t[n])})}}},tt=Z,et=(r("a133"),Object(l["a"])(tt,n,s,!1,null,null,null));et.options.__file="index.vue";e["a"]=et.exports},"2eae":function(t,e,r){},4379:function(t,e,r){"use strict";var n=r("2eae"),s=r.n(n);s.a},7258:function(t,e,r){"use strict";var n=r("07a2"),s=r.n(n);s.a},"7ef7":function(t,e,r){},"9e0d":function(t,e,r){},a133:function(t,e,r){"use strict";var n=r("9e0d"),s=r.n(n);s.a}});
//# sourceMappingURL=app.422bc490.js.map