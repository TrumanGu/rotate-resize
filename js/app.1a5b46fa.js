(function(t){function e(e){for(var n,a,i=e[0],u=e[1],c=e[2],f=0,d=[];f<i.length;f++)a=i[f],o[a]&&d.push(o[a][0]),o[a]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(t[n]=u[n]);l&&l(e);while(d.length)d.shift()();return s.push.apply(s,c||[]),r()}function r(){for(var t,e=0;e<s.length;e++){for(var r=s[e],n=!0,i=1;i<r.length;i++){var u=r[i];0!==o[u]&&(n=!1)}n&&(s.splice(e--,1),t=a(a.s=r[0]))}return t}var n={},o={app:0},s=[];function a(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=t,a.c=n,a.d=function(t,e,r){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)a.d(r,n,function(e){return t[e]}.bind(null,n));return r},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/rotate-resize/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],u=i.push.bind(i);i.push=e,i=i.slice();for(var c=0;c<i.length;c++)e(i[c]);var l=u;s.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("c81c")},"03cb":function(t,e,r){"use strict";var n=r("7ef7"),o=r.n(n);o.a},"07a2":function(t,e,r){},"14b9":function(t,e,r){"use strict";var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"wrapper"},[r("Controller",{attrs:{rect:t.rect},on:{transformed:t.onTransformed}}),r("Info",{attrs:{rect:t.rect},on:{transformed:t.onTransformed}}),r("GitHub")],1)},o=[],s=(r("6b0c"),r("527c"),r("3a67"),r("6a04"),r("2daf"),r("bdf5"),r("a729"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"info"},[r("ul",t._l(t.displayKeys,function(e){return r("li",{key:e},[r("label",[t._v(t._s(e.toUpperCase()))]),r("div",{class:e},[r("input",{attrs:{type:"number"},domProps:{value:t.betterDisplay(t.rect[e])},on:{change:function(r){t.onValueChange(e,r)},input:function(r){t.onValueChange(e,r)}}})])])}))])}),a=[],i=r("a96d"),u=(r("e3d3"),r("95a0"),r("0091"),{props:{rect:Object},computed:{displayKeys:function(){return Object.keys(this.rect)}},methods:{betterDisplay:function(t){var e=String(t);return e.includes(".")?t.toFixed(2):Number.parseInt(t,10)},onValueChange:function(t,e){var r=Number(e.target.value);r="r"===t?r>180?180:r<-180?-180:r:r<0?0:r,this.$emit("transformed",Object(i["a"])({},t,r))}}}),c=u,l=(r("4379"),r("dbe8")),f=Object(l["a"])(c,s,a,!1,null,"d55dc270",null);f.options.__file="Info.vue";var d=f.exports,h=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},y=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"explain absolute"},[r("ol",[r("li",[r("a",{attrs:{href:"https://github.com/ioslh/rotate-resize",target:"_blank"}},[t._v("GitHub")])]),r("li",[t._v("Drag To Anywhere")]),r("li",[t._v("Try Drag With Shift Key")]),r("li",[t._v("Try Drag With Command Key")])])])}],b={name:"Why"},v=b,p=(r("03cb"),Object(l["a"])(v,h,y,!1,null,"707a28e6",null));p.options.__file="GitHub.vue";var x=p.exports,m=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"controller"},[r("div",{staticClass:"absolute internal",style:t.internalStyle,on:{mousedown:function(e){e.stopPropagation(),t.onMouseDown(e,"move")}}},[t.showHandlers?t._l(t.handlers,function(e){return r("i",{key:e,staticClass:"handler absolute",class:"rotate"===e?e:e.split(""),on:{mousedown:function(r){r.stopPropagation(),t.onMouseDown(r,e)}}})}):t._e()],2),r("div",{staticClass:"absolute external"}),t.showResizeGuide?r("div",{staticClass:"absolute resize-guide",style:t.resizeGuideStyle}):t._e(),t.showRotateGuide?r("div",{staticClass:"absolute rotate-guide",style:t.rotateGuideStyle}):t._e()])},g=[],w=(r("fb22"),r("bb90")),j=function(t){return JSON.parse(JSON.stringify(t))},_=r("3239"),M=1e-5,C=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:M;return Math.abs(t-e)<r},O=function(t,e,r){var n=L(t,e),o=D(e,n,-r),s=o.x,a=o.y,i=Math.abs(2*(s-n.x)),u=Math.abs(2*(a-n.y));return{x:n.x-i/2,y:n.y-u/2,w:i,h:u,r:r}},k=function(t,e,r){var n,o,s,a=t.map(function(t){return z(t,-r)}),i=Object(w["a"])(a,2),u=i[0],c=i[1],l=z(e,-r);C(u.y,c.y)?(n=Math.abs(u.x-c.x),o=Math.abs(l.y-u.y),s={x:(u.x+c.x)/2,y:(u.y+l.y)/2}):C(u.x,c.x)&&(o=Math.abs(u.y-c.y),n=Math.abs(l.x-u.x),s={x:(u.x+l.x)/2,y:(u.y+c.y)/2});var f=z(s,r),d=f.x-n/2,h=f.y-o/2;return{x:d,y:h,w:n,h:o,r:r}},S=function(t,e,r,n){var o,s,a=Object(w["a"])(t,2),i=a[0],u=a[1],c=L(i,u),l=e,f=L(c,l),d=E(c,l),h=r.w/r.h;return"width"===n?(o=d,s=o/h):(s=d,o=h*s),{x:f.x-o/2,y:f.y-s/2,w:o,h:s,r:r.r}},T=function(t,e){if(C(t.x,e.x))return 0;var r=R(t,e),n=Math.atan(r)/Math.PI*180;return 90+n},E=function(t,e){var r=t.x-e.x,n=t.y-e.y;return Math.sqrt(r*r+n*n)},z=function(t,e){var r=e/180*Math.PI,n=Math.sin(r),o=Math.cos(r),s=t.x,a=t.y;return{x:s*o-a*n,y:s*n+a*o}},D=function(t,e,r){var n={x:t.x-e.x,y:t.y-e.y},o=z(n,r);return{x:o.x+e.x,y:o.y+e.y}},P=function(t){var e=t.x,r=t.y,n=t.w,o=t.h;return{x:e+n/2,y:r+o/2}},G=function(t){var e=t.x,r=t.y;return 180*Math.atan2(r,e)/Math.PI},R=function(t,e){return(e.y-t.y)/(e.x-t.x)},L=function(t,e){return{x:(t.x+e.x)/2,y:(t.y+e.y)/2}},I=function(t,e,r){var n={x:e.x-t.x,y:e.y-t.y},o={x:r.x-t.x,y:r.y-t.y},s=G(n),a=G(o);return a-s},$=function(t,e){var r=e.x,n=e.y,o=Object(w["a"])(t,2),s=o[0],a=o[1];if(C(s.x,a.x))return{x:s.x,y:n};if(C(s.y,a.y))return{x:r,y:s.y};var i=R(s,a),u=-1/i,c=(i*s.x+n-s.y-u*r)/(i-u),l=s.y-i*(s.x-c);return{x:c,y:l}},H=function(t){var e=P(t),r=t.x,n=t.y,o=t.w,s=t.h,a=t.r,i=[{x:r,y:n},{x:r+o,y:n},{x:r+o,y:n+s},{x:r,y:n+s}].map(function(t){return D(t,e,a)}),u=Object(w["a"])(i,4),c=u[0],l=u[1],f=u[2],d=u[3];return{center:e,lt:c,rt:l,rb:f,lb:d,ct:L(c,l),rm:L(l,f),cb:L(f,d),lm:L(d,c)}},K=function(t,e,r){var n=e.x-t.x,o=e.y-t.y;return Object(_["a"])({},r,{x:r.x+n,y:r.y+o})},A=function(t,e,r){var n=P(r),o=I(n,t,e),s=r.r+o;return s>=180&&(s-=360),s<=-180&&(s+=360),Object(_["a"])({},r,{r:s})},J=function(t,e,r,n,o){var s=H(n),a=null,i=[],u=e;if(o){switch(r){case"lt":case"rb":i=[s.lt,s.rb];break;case"rt":case"lb":i=[s.rt,s.lb];break;case"ct":case"cb":i=[s.ct,s.cb],a="height";break;case"lm":case"rm":i=[s.lm,s.rm],a="width";break;default:i=[]}2===i.length&&(u=$(i,e))}var c=[];switch(r){case"lt":c=[s.rb];break;case"rt":c=[s.lb];break;case"lb":c=[s.rt];break;case"rb":c=[s.lt];break;case"cb":c=[s.lt,s.rt];break;case"ct":c=[s.lb,s.rb];break;case"lm":c=[s.rt,s.rb];break;case"rm":c=[s.lt,s.lb];break;default:c=[]}var l=c,f=l.length;return 1===f?O(c[0],u,n.r):2===f?o?S(c,u,n,a):k(c,u,n.r):void 0},N=function(t,e,r,n,o){return"move"===t?K(e,r,n):"rotate"===t?A(e,r,n):J(e,r,t,n,o)},U=["rotate","lt","ct","rt","lm","rm","lb","cb","rb"],V={props:{rect:Object},data:function(){return{handlers:U,adjustType:null,isAdjusting:!1,fixedRatio:!1,bodyCursor:"auto"}},watch:{bodyCursor:function(){document.body.style.cursor=this.bodyCursor}},computed:{bounds:function(){return H(this.rect)},showRotateGuide:function(){return"rotate"===this.adjustType},rotateGuideStyle:function(){if(!this.showRotateGuide)return{};var t=this.bounds,e=t.center,r=t.lt,n=t.rb,o=e.x,s=e.y,a=E(r,n);return{left:"".concat(o-a/2,"px"),top:"".concat(s-a/2,"px"),width:"".concat(a,"px"),height:"".concat(a,"px")}},showResizeGuide:function(){return this.fixedRatio&&this.adjustType&&"rotate"!==this.adjustType},resizeGuideStyle:function(){if(!this.showResizeGuide)return{};var t,e,r=this.adjustType,n=this.bounds;if("lt"===r||"rb"===r){var o=[n.lt,n.rb];t=o[0],e=o[1]}else if("rt"===r||"lb"===r){var s=[n.rt,n.lb];t=s[0],e=s[1]}else if("cb"===r||"ct"===r){var a=[n.cb,n.ct];t=a[0],e=a[1]}else{var i=[n.lm,n.rm];t=i[0],e=i[1]}var u=2e3,c=L(t,e),l=T(t,e);return{left:"".concat(c.x,"px"),top:"".concat(c.y-u/2,"px"),height:"".concat(u,"px"),transform:"rotate(".concat(l,"deg)")}},internalStyle:function(){var t=this.rect,e=t.x,r=t.y,n=t.w,o=t.h,s=t.r;return{left:"".concat(e,"px"),top:"".concat(r,"px"),width:"".concat(n,"px"),height:"".concat(o,"px"),transform:"rotate(".concat(s,"deg)")}},showHandlers:function(){return!this.isAdjusting||"move"!==this.adjustType}},methods:{computeMousePosition:function(t){var e=t.pageX,r=t.pageY;return{x:e,y:r}},onMouseDown:function(t,e){this.adjustType=t.metaKey?"rotate":e,this.mouseStart=this.computeMousePosition(t),this.rectStart=j(this.rect),this.fixedRatio=t.shiftKey,document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("mouseup",this.onMouseUp)},onMouseMove:function(t){var e=this;this.mouseEnd=this.computeMousePosition(t);var r=["x","y"].map(function(t){return Math.abs(e.mouseEnd[t]-e.mouseStart[t])}),n=Object(w["a"])(r,2),o=n[0],s=n[1];if(o>2||s>2){this.isAdjusting=!0,this.setDocumentCursor(this.mouseEnd);var a=N(this.adjustType,this.mouseStart,this.mouseEnd,this.rectStart,this.fixedRatio);this.$emit("transformed",a)}},onMouseUp:function(){this.adjustType=null,this.bodyCursor="auto",document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("mouseup",this.onMouseUp)},setDocumentCursor:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("move"===this.adjustType)return this.bodyCursor="move";if("rotate"===this.adjustType)return this.bodyCursor="-webkit-grab";var r=this.bounds.center,n={x:(t.x||0)-r.x,y:(t.y||0)-r.y},o=G(n),s=e?10:0;switch(!0){case o<=-180+s:return this.bodyCursor="ew-resize";case o<-90-s:return this.bodyCursor="nwse-resize";case o<=-90+s:return this.bodyCursor="ns-resize";case o<0-s:return this.bodyCursor="nesw-resize";case o<=0+s:return this.bodyCursor="ew-resize";case o<90-s:return this.bodyCursor="nwse-resize";case o<=90+s:return this.bodyCursor="ns-resize";case o<180-s:return this.bodyCursor="nesw-resize";case o<=180+s:return this.bodyCursor="ew-resize"}},preventDrag:function(t){t.stopPropagation(),t.preventDefault()}},mounted:function(){document.addEventListener("drag",this.preventDrag),document.addEventListener("dragstart",this.preventDrag)},beforeDestroy:function(){document.removeEventListener("drag",this.preventDrag),document.removeEventListener("dragstart",this.preventDrag)}},W=V,q=(r("7258"),Object(l["a"])(W,m,g,!1,null,"2a5fa09c",null));q.options.__file="Controller.vue";var F=q.exports,X={components:{Info:d,GitHub:x,Controller:F},data:function(){return{rect:{x:100,y:100,w:100,h:100,r:0}}},methods:{onTransformed:function(t){var e=this,r=["x","y","w","h","r"];Object.keys(t).forEach(function(n){r.includes(n)&&(e.rect[n]=t[n])})}}},Y=X,B=(r("a133"),Object(l["a"])(Y,n,o,!1,null,null,null));B.options.__file="index.vue";e["a"]=B.exports},"2eae":function(t,e,r){},4379:function(t,e,r){"use strict";var n=r("2eae"),o=r.n(n);o.a},7258:function(t,e,r){"use strict";var n=r("07a2"),o=r.n(n);o.a},"7ef7":function(t,e,r){},"9e0d":function(t,e,r){},a133:function(t,e,r){"use strict";var n=r("9e0d"),o=r.n(n);o.a}});
//# sourceMappingURL=app.1a5b46fa.js.map