(function(t){function e(e){for(var n,a,u=e[0],i=e[1],c=e[2],d=0,y=[];d<u.length;d++)a=u[d],o[a]&&y.push(o[a][0]),o[a]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n]);l&&l(e);while(y.length)y.shift()();return s.push.apply(s,c||[]),r()}function r(){for(var t,e=0;e<s.length;e++){for(var r=s[e],n=!0,u=1;u<r.length;u++){var i=r[u];0!==o[i]&&(n=!1)}n&&(s.splice(e--,1),t=a(a.s=r[0]))}return t}var n={},o={1:0},s=[];function a(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=t,a.c=n,a.d=function(t,e,r){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)a.d(r,n,function(e){return t[e]}.bind(null,n));return r},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/rotate-resize/";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],i=u.push.bind(u);u.push=e,u=u.slice();for(var c=0;c<u.length;c++)e(u[c]);var l=i;s.push([3,0]),r()})({3:function(t,e,r){t.exports=r("+SQU")},FLlR:function(t,e,r){"use strict";var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"wrapper"},[r("Controller",{attrs:{rect:t.rect},on:{transformed:t.onTransformed}}),r("Info",{attrs:{rect:t.rect},on:{transformed:t.onTransformed}})],1)},o=[],s=(r("/PhX"),r("d2iO"),r("UO9z"),r("7S6U"),r("vZ7T"),r("+VZ/"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"info"},[r("ul",t._l(t.displayKeys,function(e){return r("li",{key:e},[r("label",[t._v(t._s(e.toUpperCase()))]),r("div",{class:e},[r("input",{attrs:{type:"number"},domProps:{value:t.betterDisplay(t.rect[e])},on:{change:function(r){t.onValueChange(e,r)},input:function(r){t.onValueChange(e,r)}}})])])}))])}),a=[],u=r("7fF1"),i=(r("wqZY"),r("pZgy"),r("VsPd"),{props:{rect:Object},computed:{displayKeys:function(){return Object.keys(this.rect)}},methods:{betterDisplay:function(t){var e=String(t);return e.includes(".")?t.toFixed(2):Number.parseInt(t,10)},onValueChange:function(t,e){var r=Number(e.target.value);r="r"===t?r>180?180:r<-180?-180:r:r<0?0:r,this.$emit("transformed",Object(u["a"])({},t,r))}}}),c=i,l=(r("zesd"),r("kCQC")),d=Object(l["a"])(c,s,a,!1,null,"d55dc270",null),y=d.exports,h=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"controller"},[r("div",{staticClass:"absolute internal",style:t.internalStyle,on:{mousedown:function(e){e.stopPropagation(),t.onMouseDown(e,"move")}}},[t.showHandlers?t._l(t.handlers,function(e){return r("i",{key:e,staticClass:"handler absolute",class:"rotate"===e?e:e.split(""),on:{mousedown:function(r){r.stopPropagation(),t.onMouseDown(r,e)}}})}):t._e()],2),r("div",{staticClass:"absolute external"}),t.showResizeGuide?r("div",{staticClass:"absolute resize-guide",style:t.resizeGuideStyle}):t._e(),t.showRotateGuide?r("div",{staticClass:"absolute rotate-guide",style:t.rotateGuideStyle}):t._e()])},f=[],b=(r("s3tp"),r("jOHi")),p=function(t){return JSON.parse(JSON.stringify(t))},v=r("AH03"),x=1e-5,m=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:x;return Math.abs(t-e)<r},w=function(t,e,r){var n=T(t,e),o=S(e,n,-r),s=o.x,a=o.y,u=Math.abs(2*(s-n.x)),i=Math.abs(2*(a-n.y));return{x:n.x-u/2,y:n.y-i/2,w:u,h:i,r:r}},g=function(t,e,r){var n,o,s,a=t.map(function(t){return O(t,-r)}),u=Object(b["a"])(a,2),i=u[0],c=u[1],l=O(e,-r);m(i.y,c.y)?(n=Math.abs(i.x-c.x),o=Math.abs(l.y-i.y),s={x:(i.x+c.x)/2,y:(i.y+l.y)/2}):m(i.x,c.x)&&(o=Math.abs(i.y-c.y),n=Math.abs(l.x-i.x),s={x:(i.x+l.x)/2,y:(i.y+c.y)/2});var d=O(s,r),y=d.x-n/2,h=d.y-o/2;return{x:y,y:h,w:n,h:o,r:r}},j=function(t,e,r,n){var o,s,a=Object(b["a"])(t,2),u=a[0],i=a[1],c=T(u,i),l=e,d=T(c,l),y=C(c,l),h=r.w/r.h;return"width"===n?(o=y,s=o/h):(s=y,o=h*s),{x:d.x-o/2,y:d.y-s/2,w:o,h:s,r:r.r}},M=function(t,e){if(m(t.x,e.x))return 0;var r=z(t,e),n=Math.atan(r)/Math.PI*180;return 90+n},C=function(t,e){var r=t.x-e.x,n=t.y-e.y;return Math.sqrt(r*r+n*n)},O=function(t,e){var r=e/180*Math.PI,n=Math.sin(r),o=Math.cos(r),s=t.x,a=t.y;return{x:s*o-a*n,y:s*n+a*o}},S=function(t,e,r){var n={x:t.x-e.x,y:t.y-e.y},o=O(n,r);return{x:o.x+e.x,y:o.y+e.y}},k=function(t){var e=t.x,r=t.y,n=t.w,o=t.h;return{x:e+n/2,y:r+o/2}},P=function(t){var e=t.x,r=t.y;return 180*Math.atan2(r,e)/Math.PI},z=function(t,e){return(e.y-t.y)/(e.x-t.x)},T=function(t,e){return{x:(t.x+e.x)/2,y:(t.y+e.y)/2}},_=function(t,e,r){var n={x:e.x-t.x,y:e.y-t.y},o={x:r.x-t.x,y:r.y-t.y},s=P(n),a=P(o);return a-s},D=function(t,e){var r=e.x,n=e.y,o=Object(b["a"])(t,2),s=o[0],a=o[1];if(m(s.x,a.x))return{x:s.x,y:n};if(m(s.y,a.y))return{x:r,y:s.y};var u,i,c=z(s,a),l=-1/c;return 1===l?(u=(s.y-n+s.x+r)/2,i=n-r+u):-1===l?(u=(n-s.y+r+s.x)/2,i=n-r+u):(u=(c*s.x+n-s.y-l*r)/(c-l),i=s.y-c*(s.x-u)),{x:u,y:i}},E=function(t){var e=k(t),r=t.x,n=t.y,o=t.w,s=t.h,a=t.r,u=[{x:r,y:n},{x:r+o,y:n},{x:r+o,y:n+s},{x:r,y:n+s}].map(function(t){return S(t,e,a)}),i=Object(b["a"])(u,4),c=i[0],l=i[1],d=i[2],y=i[3];return{center:e,lt:c,rt:l,rb:d,lb:y,ct:T(c,l),rm:T(l,d),cb:T(d,y),lm:T(y,c)}},G=function(t,e,r){var n=e.x-t.x,o=e.y-t.y;return Object(v["a"])({},r,{x:r.x+n,y:r.y+o})},R=function(t,e,r){var n=k(r),o=_(n,t,e),s=r.r+o;return s>=180&&(s-=360),s<=-180&&(s+=360),Object(v["a"])({},r,{r:s})},L=function(t,e,r,n,o){var s=E(n),a=null,u=[],i=e;if(o){switch(r){case"lt":case"rb":u=[s.lt,s.rb];break;case"rt":case"lb":u=[s.rt,s.lb];break;case"ct":case"cb":u=[s.ct,s.cb],a="height";break;case"lm":case"rm":u=[s.lm,s.rm],a="width";break;default:u=[]}2===u.length&&(i=D(u,e))}var c=[];switch(r){case"lt":c=[s.rb];break;case"rt":c=[s.lb];break;case"lb":c=[s.rt];break;case"rb":c=[s.lt];break;case"cb":c=[s.lt,s.rt];break;case"ct":c=[s.lb,s.rb];break;case"lm":c=[s.rt,s.rb];break;case"rm":c=[s.lt,s.lb];break;default:c=[]}var l=c,d=l.length;return 1===d?w(c[0],i,n.r):2===d?o?j(c,i,n,a):g(c,i,n.r):void 0},U=function(t,e,r,n,o){return"move"===t?G(e,r,n):"rotate"===t?R(e,r,n):L(e,r,t,n,o)},I=["rotate","lt","ct","rt","lm","rm","lb","cb","rb"],K={props:{rect:Object},data:function(){return{handlers:I,adjustType:null,isAdjusting:!1,fixedRatio:!1,bodyCursor:"auto"}},watch:{bodyCursor:function(){document.body.style.cursor=this.bodyCursor}},computed:{bounds:function(){return E(this.rect)},showRotateGuide:function(){return"rotate"===this.adjustType},rotateGuideStyle:function(){if(!this.showRotateGuide)return{};var t=this.bounds,e=t.center,r=t.lt,n=t.rb,o=e.x,s=e.y,a=C(r,n);return{left:"".concat(o-a/2,"px"),top:"".concat(s-a/2,"px"),width:"".concat(a,"px"),height:"".concat(a,"px")}},showResizeGuide:function(){return this.fixedRatio&&this.adjustType&&"rotate"!==this.adjustType},resizeGuideStyle:function(){if(!this.showResizeGuide)return{};var t,e,r=this.adjustType,n=this.bounds;if("lt"===r||"rb"===r){var o=[n.lt,n.rb];t=o[0],e=o[1]}else if("rt"===r||"lb"===r){var s=[n.rt,n.lb];t=s[0],e=s[1]}else if("cb"===r||"ct"===r){var a=[n.cb,n.ct];t=a[0],e=a[1]}else{var u=[n.lm,n.rm];t=u[0],e=u[1]}var i=2e3,c=T(t,e),l=M(t,e);return{left:"".concat(c.x,"px"),top:"".concat(c.y-i/2,"px"),height:"".concat(i,"px"),transform:"rotate(".concat(l,"deg)")}},internalStyle:function(){var t=this.rect,e=t.x,r=t.y,n=t.w,o=t.h,s=t.r;return{left:"".concat(e,"px"),top:"".concat(r,"px"),width:"".concat(n,"px"),height:"".concat(o,"px"),transform:"rotate(".concat(s,"deg)")}},showHandlers:function(){return!this.isAdjusting||"move"!==this.adjustType}},methods:{computeMousePosition:function(t){var e=t.pageX,r=t.pageY;return{x:e,y:r}},onMouseDown:function(t,e){this.adjustType=t.metaKey?"rotate":e,this.mouseStart=this.computeMousePosition(t),this.rectStart=p(this.rect),this.fixedRatio=t.shiftKey,document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("mouseup",this.onMouseUp)},onMouseMove:function(t){var e=this;this.mouseEnd=this.computeMousePosition(t);var r=["x","y"].map(function(t){return Math.abs(e.mouseEnd[t]-e.mouseStart[t])}),n=Object(b["a"])(r,2),o=n[0],s=n[1];if(o>2||s>2){this.isAdjusting=!0,this.setDocumentCursor(this.mouseEnd);var a=U(this.adjustType,this.mouseStart,this.mouseEnd,this.rectStart,this.fixedRatio);this.$emit("transformed",a)}},onMouseUp:function(){this.adjustType=null,this.bodyCursor="auto",document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("mouseup",this.onMouseUp)},setDocumentCursor:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("move"===this.adjustType)return this.bodyCursor="move";if("rotate"===this.adjustType)return this.bodyCursor="-webkit-grab";var r=this.bounds.center,n={x:(t.x||0)-r.x,y:(t.y||0)-r.y},o=P(n),s=e?10:0;switch(!0){case o<=-180+s:return this.bodyCursor="ew-resize";case o<-90-s:return this.bodyCursor="nwse-resize";case o<=-90+s:return this.bodyCursor="ns-resize";case o<0-s:return this.bodyCursor="nesw-resize";case o<=0+s:return this.bodyCursor="ew-resize";case o<90-s:return this.bodyCursor="nwse-resize";case o<=90+s:return this.bodyCursor="ns-resize";case o<180-s:return this.bodyCursor="nesw-resize";case o<=180+s:return this.bodyCursor="ew-resize"}},preventDrag:function(t){t.stopPropagation(),t.preventDefault()}},mounted:function(){document.addEventListener("drag",this.preventDrag),document.addEventListener("dragstart",this.preventDrag)},beforeDestroy:function(){document.removeEventListener("drag",this.preventDrag),document.removeEventListener("dragstart",this.preventDrag)}},V=K,$=(r("Yw2T"),Object(l["a"])(V,h,f,!1,null,"18173b58",null)),A=$.exports,H={components:{Info:y,Controller:A},data:function(){return{rect:{x:100,y:100,w:100,h:100,r:0}}},methods:{onTransformed:function(t){var e=this,r=["x","y","w","h","r"];Object.keys(t).forEach(function(n){r.includes(n)&&(e.rect[n]=t[n])})}}},J=H,N=(r("a3pw"),Object(l["a"])(J,n,o,!1,null,null,null));e["a"]=N.exports},Yw2T:function(t,e,r){"use strict";var n=r("yyvb"),o=r.n(n);o.a},a3pw:function(t,e,r){"use strict";var n=r("wGDP"),o=r.n(n);o.a},wGDP:function(t,e,r){},wKsu:function(t,e,r){},yyvb:function(t,e,r){},zesd:function(t,e,r){"use strict";var n=r("wKsu"),o=r.n(n);o.a}});
//# sourceMappingURL=app.af0f376e.js.map